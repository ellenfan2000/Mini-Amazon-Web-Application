{% extends "Amazon/index.html" %}
{% block content %}
<br>
{% if query %}
<h4>Search results for "{{ query }} :"</h4>
{% if products %}
<table class="table table-striped table-hover caption-top" style="table-layout: fixed; width: 60%;">
    <tr>
        <th style="width:28%"></th>
        <th style="width:10%">Category</th>
        <th style="width:10%">Price</th>
        <th style="width:10%">Inventory</th>
    </tr>
    {% for p in products %}
    <tr>
        <td style="word-wrap: break-word;">
            <a href="{% url 'product_details' p.id %}">{{p.name}}</a>
        </td>
        <td>
            {{p.category}}
        </td>
        <td>
            {{p.price}}
        </td>
        <td>
            {{p.inventory}}
        </td>
    </tr>
    {% endfor %}
</table>

<br>
<caption>
    <h4>You May Also Like: </h4>
</caption>
{% else %}
<br>
<h3>No matching results, please search again</h3>
<br>
<caption>
    <h4>Guess You Like: </h4>
</caption>

</table>
{% endif %}

{% else %}
<h4>Please enter a search query</h4>
<br>
<caption>
    <h4>Guess You Like: </h4>
</caption>
{% endif %}

<table class="table table-striped table-hover caption-top" style="table-layout: fixed; width: 60%;">
    <tr>
        <th style="width:28%"></th>
        <th style="width:10%">Average Rate</th>
        <th style="width:10%"></th>
    </tr>
    {% for r in recommends %}
    <tr>
        <td style="word-wrap: break-word;">
            {{r.name}}
        </td>
        <td class="rate">
            {{r.avg_rate}}
        </td>
        <td>
            <a href="{% url 'product_details' r.id %}">Details</a>

        </td>
    </tr>
    {% endfor %}
    {% endblock %}